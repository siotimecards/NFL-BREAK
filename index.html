<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>NFL Break ‚Äì Inscriptions | Siotime</title>
<style>
body { font-family: Arial, sans-serif; text-align:center; background:#fafafa; margin:0 }
h1 { color:#222 }
.timer { font-size:20px; color:red; font-weight:bold; margin:10px }
.teams { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin:20px }
.team { width:140px; padding:10px; border:1px solid #ccc; border-radius:12px; background:white; cursor:pointer }
.team:hover { background:#f2f2f2 }
.taken { opacity:0.4; pointer-events:none; background:#ddd }
.team img { width:70px }
.price { color:green; font-size:0.9em }
.recap-item { display:flex; align-items:center; justify-content:center; gap:10px; margin:5px }
.recap-item img { width:30px }
.section { max-width:800px; margin:40px auto; padding:20px; background:#fff; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.05) }
.social-bar { background:#000; padding:10px; display:flex; justify-content:center; gap:20px }
.social-bar img { width:32px }
</style>
</head>
<body>

<div class="social-bar">
<a href="https://www.youtube.com/@SioTime" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg"></a>
<a href="https://www.instagram.com/siotime.cards/" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"></a>
<a href="https://x.com/Siotimecards" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/X_logo_2023_original.svg"></a>
</div>

<h1>üèà Inscriptions NFL Break ‚Äì Siotime</h1>
<div class="timer" id="timer"></div>

<div class="break-section">
 <h2>üì¶ Le Break en image</h2>
 <img src="BreakNFL.png" alt="Break NFL Siotime" style="max-width:300px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); margin: 0 auto; display:block;">
</div>

<div class="teams" id="teams"></div>

<h2>‚úÖ R√©cap des inscrits</h2>
<div id="recap"></div>

<div class="section">
<h2>üì¶ R√®glement du Break</h2>
<ol style="text-align:left">
<li>Un spot = une √©quipe NFL</li>
<li>Tirage et ouverture en live YouTube</li>
<li>Toutes les cartes NFL sont envoy√©es</li>
<li>Cartes multi-√©quipes tir√©es au sort en live</li>
<li>Envoi prot√©g√© et suivi</li>
<li>Aucun remboursement apr√®s d√©marrage</li>
</ol>
</div>

<script>
const ENDPOINT = "https://script.google.com/macros/s/AKfycbwiUDV0Vv2k_iaokh-SpeIsjXoN-PiznSPTGComGuSEY63f-gfHmqXduGg4P763Q6MY/exec";
const deadline = new Date(2025, 11, 22, 20, 0, 0); // √† ajuster

const teams = [
{ name:"Arizona Cardinals", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/ari.png" },
{ name:"Atlanta Falcons", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/atl.png" },
{ name:"Baltimore Ravens", price:10, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/bal.png" },
{ name:"Buffalo Bills", price:10, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/buf.png" },
{ name:"Carolina Panthers", price:5, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/car.png" },
{ name:"Chicago Bears", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/chi.png" },
{ name:"Cincinnati Bengals", price:9, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/cin.png" },
{ name:"Cleveland Browns", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/cle.png" },
{ name:"Dallas Cowboys", price:12, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/dal.png" },
{ name:"Denver Broncos", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/den.png" },
{ name:"Detroit Lions", price:9, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/det.png" },
{ name:"Green Bay Packers", price:10, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/gb.png" },
{ name:"Houston Texans", price:8, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/hou.png" },
{ name:"Indianapolis Colts", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/ind.png" },
{ name:"Jacksonville Jaguars", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/jax.png" },
{ name:"Kansas City Chiefs", price:12, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/kc.png" },
{ name:"Las Vegas Raiders", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/lv.png" },
{ name:"Los Angeles Chargers", price:8, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/lac.png" },
{ name:"Los Angeles Rams", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/lar.png" },
{ name:"Miami Dolphins", price:9, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/mia.png" },
{ name:"Minnesota Vikings", price:8, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/min.png" },
{ name:"New England Patriots", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/ne.png" },
{ name:"New Orleans Saints", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/no.png" },
{ name:"New York Giants", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/nyg.png" },
{ name:"New York Jets", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/nyj.png" },
{ name:"Philadelphia Eagles", price:11, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/phi.png" },
{ name:"Pittsburgh Steelers", price:9, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/pit.png" },
{ name:"San Francisco 49ers", price:12, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/sf.png" },
{ name:"Seattle Seahawks", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/sea.png" },
{ name:"Tampa Bay Buccaneers", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/tb.png" },
{ name:"Tennessee Titans", price:6, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/ten.png" },
{ name:"Washington Commanders", price:7, logo:"https://a.espncdn.com/i/teamlogos/nfl/500/wsh.png" },
];

const teamsDiv = document.getElementById("teams");
const recapDiv = document.getElementById("recap");
const timerDiv = document.getElementById("timer");

function renderTeams(taken=[]) {
teamsDiv.innerHTML="";
teams.forEach(t=>{
const d=document.createElement("div");
d.className="team"+(taken.includes(t.name)?" taken":"");
d.innerHTML=`<img src="${t.logo}"><p>${t.name}</p><p class="price">${t.price}‚Ç¨</p>`;
d.onclick=()=>selectTeam(t);
teamsDiv.appendChild(d);
});
}

async function selectTeam(team){
const pseudo=prompt("Pseudo :"); if(!pseudo) return;
const social=prompt("R√©seau social :"); if(!social) return;
if(!confirm(`Confirmer ${team.name} (${team.price}‚Ç¨)`)) return;
const r=await fetch(ENDPOINT,{method:"POST",body:JSON.stringify({pseudo,social,team:team.name})});
const j=await r.json();
alert(j.status==="ok"?"Inscription valid√©e":"Erreur");
loadData();
}

async function loadData(){
const t=await (await fetch(ENDPOINT+"?mode=taken")).json();
renderTeams(t);
const r=await (await fetch(ENDPOINT+"?mode=recap")).json();
recapDiv.innerHTML="";
r.forEach(e=>{
const team=teams.find(x=>x.name===e.team);
if(team) recapDiv.innerHTML+=`<div class="recap-item"><img src="${team.logo}"><b>${e.pseudo}</b> (${team.name})</div>`;
});
}

function updateTimer(){
const diff=deadline-new Date();
if(diff<=0){timerDiv.innerHTML="‚õî Inscriptions ferm√©es";return;}
const h=Math.floor(diff/36e5),m=Math.floor(diff/6e4%60),s=Math.floor(diff/1e3%60);
timerDiv.innerHTML=`‚è≥ Fin dans ${h}h ${m}m ${s}s`;
}

loadData(); updateTimer();
setInterval(loadData,15000);
setInterval(updateTimer,1000);
</script>
</body>
</html>

